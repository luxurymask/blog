<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>diff &= -diff</title>
</head>
<body>
<h2><b>小trick：diff &= -diff</b></h2>
<p>一个数，与等于它的负数，取到的是它最右侧的1。</p>
<p>Java中int类型为32位，第32位为符号位，int最大可以是0111 1111 1111 1111 1111 1111 1111 1111，即2<sup>31</sup> - 1, 最小为1000 0000 0000 0000 0000 0000 0000 0000,即-2<sup>31</sup>，当对一个数取负时，就是对它的二进制进行取反加一，取反加一时，最右侧的1左边的数都是单纯取反，而最右侧的1右边的数都还是0，最右侧的1还是1（由于右侧的0取反后全部变为1，再加1全部变为0并且进位1，1取反为0，加上进上来的1又变回了1。）</p>
<p>因此，取负的结果与上本身，结果就变成了只有最右侧的1这一位为1，其余位全部为0。</p>
<p>有点绕，不明白的时候就画一画。</p>
</body>
</html>
